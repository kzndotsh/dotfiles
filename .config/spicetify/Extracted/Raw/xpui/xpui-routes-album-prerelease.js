"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[9540],{25678:(e,n,i)=>{i.r(n),i.d(n,{AlbumPrerelease:()=>b});var a=i(3802),t=i(56162),l=i(48811),d=i(41226),r=i(16743),o=i(73997),s=i(35725),m=i(4637);const k=({prerelease:e})=>{const{content:n}=e,i=n,a=n?.coverArt.extractedColors?.isFallback?void 0:n?.coverArt.extractedColors?.hex;return(0,s.Y)(a||null),(0,m.jsxs)(d.gF,{backgroundColor:a,children:[(0,m.jsx)(r.W,{children:i.name?(0,m.jsx)(o.i,{text:i.name}):null}),(0,m.jsx)(d.Oz,{images:i.coverArt.sources,name:i.name??"",placeholderType:"album"}),(0,m.jsxs)(d.sP,{children:[(0,m.jsx)(t.D,{variant:"mestoBold",children:(0,l.R)(i.type)}),(0,m.jsx)(d.xd,{children:i.name})]})]})};var c=i(7656),u=i(23627),S=i(59496);var v=i(72071);const p={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"albumPreRelease"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"lookup"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uris"},value:{kind:"ListValue",values:[{kind:"Variable",name:{kind:"Name",value:"uri"}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PreReleaseResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"FragmentSpread",name:{kind:"Name",value:"albumPreReleaseData"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"NotFound"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}}]}}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"albumPreReleaseData"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PreRelease"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"preReleaseContent"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"albumPreReleaseArtistItem"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"extractedColors"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"colorRaw"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hex"}},{kind:"Field",name:{kind:"Name",value:"isFallback"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"tracks"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"uri"}}]}},{kind:"Field",name:{kind:"Name",value:"preSaved"}},{kind:"Field",name:{kind:"Name",value:"releaseDate"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isoString"}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"albumPreReleaseArtistItem"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ArtistResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Artist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}}]}}]},N=(e,n)=>(0,v.a)(p,e,n),F=(e,n=N)=>{const{data:i,loading:a,error:t}=n({uri:e},{staleTime:3e5,cacheTime:36e5});return{loading:a,error:!!t,prerelease:(0,S.useMemo)((()=>{if(!i)return null;for(const n of i.lookup)if("PreReleaseResponseWrapper"===n.__typename&&"PreRelease"===n.data.__typename&&n.data.uri===e)return y(n.data);return null}),[i,e])}};function y(e){const n=e.preReleaseContent;let i;return n&&(i={artists:f(n.artists.items),name:n.name??void 0,uri:n.uri,coverArt:{extractedColors:n.coverArt?.extractedColors?.colorRaw,sources:n.coverArt?.sources??[]},type:n.type,tracks:n.tracks}),{uri:e.uri,preSaved:e.preSaved,releaseDate:e.releaseDate?.isoString,content:i}}function f(e){const n=[];for(const i of e)if("Artist"===i.data.__typename)n.push({profile:{name:i.data.profile.name},uri:i.data.uri});return n}const g="H2kQJCtEGTjIDaPPniwb",b=e=>{const{uri:n}=e,{prerelease:i,loading:t,error:l}=F(n);return t||l||!i?(0,m.jsx)(u.h,{hasError:!!l,errorMessage:a.ag.get("error.not_found.title.album")}):(0,m.jsxs)("section",{className:g,children:[(0,m.jsx)(c.$,{children:a.ag.get("album.page-title",i.content?.name??"")}),(0,m.jsx)(k,{prerelease:i})]})}}}]);
//# sourceMappingURL=xpui-routes-album-prerelease.js.map